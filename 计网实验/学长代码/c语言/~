#include <stdio.h>
int main(int argc, char *argv[])
{
	int T,t,x,y;
	int time,x0,y0;
	char dir;
	scanf("%d",&T);
	for(;T>0;--T){
		
		x=0;
		y=0;
		t=0;
		time=0;
		x0=0;
		y0=0;
		scanf("%d%d%d",&x,&y,&t);
		getchar();
		while(dir=getchar()&&dir!='\0'){
			printf("%c--\n".dir);
			if(time<t){
				time++;
				if(x0!=x){
					if(dir=='L'){
						x0--;
					}else if(dir=='R'){
						x0++;
					}	
				}
				printf("(%d,%d)\n",x0,y0);
				if(y0!=y){
					if(dir=='U'){
						y0++;	
					}else if(dir=='D'){
						y0--;
				}
				printf("(%d,%d)\n",x0,y0);
				}
				
				if(y0==y&&x0==x){
					printf("%d\n",time);
					break;
				}
			}else{
				printf("-1\n");
				break;
			}
			
		}
	} 
	return 0;
}
